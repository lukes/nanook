<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Nanook::Wallet
  
    &mdash; Nanook 3.1.0 Documentation
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Nanook::Wallet";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (W)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span>
     &raquo; 
    <span class="title">Wallet</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Nanook::Wallet
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Nanook::Wallet</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Util.html" title="Nanook::Util (module)">Util</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/nanook/wallet.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The <code>Nanook::Wallet</code> class lets you manage your nano wallets. Your node will need the <code>enable_control</code> setting enabled.</p>

<h3 id="label-Wallet+seeds+vs+ids">Wallet seeds vs ids</h3>

<p>Your wallets each have an id as well as a seed. Both are 32-byte uppercase hex strings that look like this:</p>

<pre class="code ruby"><code class="ruby">000D1BAEC8EC208142C99059B393051BAC8380F9B5A2E6B2489A277D81789F3F
</code></pre>

<p>This class uses wallet <em>ids</em> to identify your wallet. A wallet id only exists locally on the nano node that it was created on. The person who knows this id can only perform all read and write actions against the wallet and all accounts inside the wallet from the same nano node that it was created on. This makes wallet ids fairly safe to use as a person needs to know your wallet id as well as have access to run RPC commands against your nano node to be able to control your accounts.</p>

<p>A <em>seed</em> on the other hand can be used to link any wallet to another wallet&#39;s accounts, from anywhere in the nano network. This happens by setting a wallet&#39;s seed to be the same as a previous wallet&#39;s seed. When a wallet has the same seed as another wallet, any accounts created in the second wallet will be the same accounts as those that were created in the previous wallet, and the new wallet&#39;s owner will also gain ownership of the previous wallet&#39;s accounts. Note, that the two wallets will have different ids, but the same seed.</p>

<p>Nanook is based on the Nano RPC, which uses wallet ids and not seeds. The RPC and therefore Nanook cannot tell you what a wallet&#39;s seed is, only its id. Knowing a wallet&#39;s seed is very useful for if you ever want to restore the wallet anywhere else on the nano network besides the node you originally created it on. The nano command line interface (CLI) is the only method for discovering a wallet&#39;s seed. See the <a href="https://docs.nano.org/commands/command-line-interface/#-wallet_decrypt_unsafe-walletwallet-passwordpassword" target="_parent" title="https://docs.nano.org/commands/command-line-interface/#-wallet_decrypt_unsafe-walletwallet-passwordpassword">https://docs.nano.org/commands/command-line-interface/#-wallet_decrypt_unsafe-walletwallet-passwordpassword</a>.</p>

<h3 id="label-Initializing">Initializing</h3>

<p>Initialize this class through the convenient <span class='object_link'><a href="../Nanook.html#wallet-instance_method" title="Nanook#wallet (method)">#wallet</a></span> method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_nanook'>nanook</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Nanook.html#initialize-instance_method" title="Nanook#initialize (method)">new</a></span></span>
<span class='id identifier rubyid_wallet'>wallet</span> <span class='op'>=</span> <span class='id identifier rubyid_nanook'>nanook</span><span class='period'>.</span><span class='id identifier rubyid_wallet'>wallet</span><span class='lparen'>(</span><span class='id identifier rubyid_wallet_id'>wallet_id</span><span class='rparen'>)</span>
</code></pre>

<p>Or compose the longhand way like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rpc_conn'>rpc_conn</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Rpc.html" title="Nanook::Rpc (class)">Rpc</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Rpc.html#initialize-instance_method" title="Nanook::Rpc#initialize (method)">new</a></span></span>
<span class='id identifier rubyid_wallet'>wallet</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'>Wallet</span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Nanook::Wallet#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rpc_conn'>rpc_conn</span><span class='comma'>,</span> <span class='id identifier rubyid_wallet_id'>wallet_id</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>


  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Util.html" title="Nanook::Util (module)">Util</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Util.html#STEP-constant" title="Nanook::Util::STEP (constant)">Util::STEP</a></span></p>





  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  &#x21d2; Boolean </a>
    

    
      (also: #eql?)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>True if wallets are equal.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#account-instance_method" title="#account (instance method)">#<strong>account</strong>(account = nil)  &#x21d2; Nanook::WalletAccount </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the given account in the wallet as a <span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">WalletAccount</a></span> instance to let you start working with it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accounts-instance_method" title="#accounts (instance method)">#<strong>accounts</strong>  &#x21d2; Array&lt;Nanook::WalletAccount&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Array of <span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">WalletAccount</a></span> instances of accounts in the wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#balance-instance_method" title="#balance (instance method)">#<strong>balance</strong>(account_break_down: false, unit: Nanook.default_unit)  &#x21d2; Hash{Symbol=&gt;Integer|Float|Hash} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Balance of all accounts in the wallet, optionally breaking the balances down by account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_default_representative-instance_method" title="#change_default_representative (instance method)">#<strong>change_default_representative</strong>(representative)  &#x21d2; Nanook::Account </a>
    

    
      (also: #change_representative)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the default representative for the wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_password-instance_method" title="#change_password (instance method)">#<strong>change_password</strong>(password)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Changes the password for a wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_seed-instance_method" title="#change_seed (instance method)">#<strong>change_seed</strong>(seed)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Changes a wallet&#39;s seed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#contains%3F-instance_method" title="#contains? (instance method)">#<strong>contains?</strong>(account)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Will return <code>true</code> if the account exists in the wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-instance_method" title="#create (instance method)">#<strong>create</strong>  &#x21d2; Nanook::Wallet </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_representative-instance_method" title="#default_representative (instance method)">#<strong>default_representative</strong>  &#x21d2; Nanook::Account </a>
    

    
      (also: #representative)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The default representative account id for the wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#destroy-instance_method" title="#destroy (instance method)">#<strong>destroy</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Destroys the wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exists%3F-instance_method" title="#exists? (instance method)">#<strong>exists?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if wallet exists on the node.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#export-instance_method" title="#export (instance method)">#<strong>export</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a String containing a JSON representation of your wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The hash value is used along with #eql? by the Hash class to determine if two objects reference the same hash key.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#history-instance_method" title="#history (instance method)">#<strong>history</strong>(unit: Nanook.default_unit)  &#x21d2; Array&lt;Hash{Symbol=&gt;String|Nanook::Account|Nanook::WalletAccount|Nanook::Block|Integer|Float|Time}&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Reports send/receive information for accounts in wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">#<strong>id</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The wallet id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#info-instance_method" title="#info (instance method)">#<strong>info</strong>(unit: Nanook.default_unit)  &#x21d2; Hash{Symbol=&gt;Integer|Float} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information about this wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(rpc, wallet = nil)  &#x21d2; Wallet </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ledger-instance_method" title="#ledger (instance method)">#<strong>ledger</strong>(unit: Nanook.default_unit)  &#x21d2; Hash{Nanook::Account=&gt;Hash{Symbol=&gt;Nanook::Block|Integer|Float|Time}} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information ledger information about this wallet&#39;s accounts.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lock-instance_method" title="#lock (instance method)">#<strong>lock</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Locks the wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#locked%3F-instance_method" title="#locked? (instance method)">#<strong>locked?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <code>true</code> if the wallet is locked.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#move_accounts-instance_method" title="#move_accounts (instance method)">#<strong>move_accounts</strong>(wallet, accounts)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Move accounts from another <span class='object_link'><a href="" title="Nanook::Wallet (class)">Wallet</a></span> on the node to this <span class='object_link'><a href="" title="Nanook::Wallet (class)">Wallet</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pay-instance_method" title="#pay (instance method)">#<strong>pay</strong>(from:, to:, amount:, id:, unit: Nanook.default_unit)  &#x21d2; Nanook::Block </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Makes a payment from an account in your wallet to another account on the nano network.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pending-instance_method" title="#pending (instance method)">#<strong>pending</strong>(limit: 1000, detailed: false, unit: Nanook.default_unit)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information about pending blocks (payments) that are waiting to be received by accounts in this wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#receive-instance_method" title="#receive (instance method)">#<strong>receive</strong>(block = nil, into:)  &#x21d2; Nanook::Block, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Receives a pending payment into an account in the wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_account-instance_method" title="#remove_account (instance method)">#<strong>remove_account</strong>(account)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Remove an <span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Account</a></span> from this <span class='object_link'><a href="" title="Nanook::Wallet (class)">Wallet</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#republish_blocks-instance_method" title="#republish_blocks (instance method)">#<strong>republish_blocks</strong>(limit: 1000)  &#x21d2; Array&lt;Nanook::Block&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Rebroadcast blocks for accounts from wallet starting at frontier down to count to the network.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restore-instance_method" title="#restore (instance method)">#<strong>restore</strong>(seed, accounts: 0)  &#x21d2; Nanook::Wallet </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Restores a previously created wallet by its seed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#search_pending-instance_method" title="#search_pending (instance method)">#<strong>search_pending</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tells the node to look for pending blocks for any account in the wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
    

    
      (also: #inspect)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unlock-instance_method" title="#unlock (instance method)">#<strong>unlock</strong>(password = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Unlocks a previously locked wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#work-instance_method" title="#work (instance method)">#<strong>work</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a list of pairs of <span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">WalletAccount</a></span> and work for wallet.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(rpc, wallet = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="Nanook::Wallet (class)">Wallet</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Wallet.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_rpc'>rpc</span><span class='comma'>,</span> <span class='id identifier rubyid_wallet'>wallet</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@rpc</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span>
  <span class='ivar'>@wallet</span> <span class='op'>=</span> <span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>if</span> <span class='id identifier rubyid_wallet'>wallet</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="==-instance_method">
  
    #<strong>==</strong>(other)  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='eql?-instance_method'>eql?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if wallets are equal.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>other</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nanook::Wallet (class)">Nanook::Wallet</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>wallet to compare</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if wallets are equal</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69
70</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 67</span>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>&amp;&amp;</span>
    <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>==</span> <span class='id identifier rubyid_id'>id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="account-instance_method">
  
    #<strong>account</strong>(account = nil)  &#x21d2; <tt><span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the given account in the wallet as a <span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span> instance to let you start working with it.</p>

<p>Call with no <code>account</code> argument if you wish to create a new account in the wallet, like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span>     <span class='comment'># =&gt; Nanook::WalletAccount
</span></code></pre>

<p>See <span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span> for all the methods you can call on the account object returned.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_account'>account</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; Nanook::WalletAccount
</span><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span>     <span class='comment'># =&gt; Nanook::WalletAccount
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>account</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>optional String of an account (starting with <code>&quot;xrb...&quot;</code>) to start working with. Must be an account within the wallet. When no account is given, the instance returned only allows you to call <code>create</code> on it, to create a new account.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the wallet does not contain the account</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 103</span>

<span class='kw'>def</span> <span class='id identifier rubyid_account'>account</span><span class='lparen'>(</span><span class='id identifier rubyid_account'>account</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_wallet_required!'>check_wallet_required!</span>
  <span class='id identifier rubyid_as_wallet_account'>as_wallet_account</span><span class='lparen'>(</span><span class='id identifier rubyid_account'>account</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="accounts-instance_method">
  
    #<strong>accounts</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Array of <span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span> instances of accounts in the wallet.</p>

<p>See <span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span> for all the methods you can call on the account objects returned.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_accounts'>accounts</span> <span class='comment'># =&gt; [Nanook::WalletAccount, Nanook::WalletAccount...]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>all accounts in the wallet</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accounts'>accounts</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_list</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:accounts</span><span class='comma'>,</span> <span class='label'>_coerce:</span> <span class='const'>Array</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_account'>account</span><span class='op'>|</span>
    <span class='id identifier rubyid_as_wallet_account'>as_wallet_account</span><span class='lparen'>(</span><span class='id identifier rubyid_account'>account</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="balance-instance_method">
  
    #<strong>balance</strong>(account_break_down: false, unit: Nanook.default_unit)  &#x21d2; <tt>Hash{Symbol=&gt;Integer|Float|Hash}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Balance of all accounts in the wallet, optionally breaking the balances down by account.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_balance'>balance</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>balance</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='int'>5</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pending</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='float'>0.001</span>
<span class='rbrace'>}</span>
</code></pre>

<p>Asking for the balances to be returned in raw instead of NANO.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_balance'>balance</span><span class='lparen'>(</span><span class='label'>unit:</span> <span class='symbol'>:raw</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>balance</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='int'>5000000000000000000000000000000</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pending</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='int'>1000000000000000000000000000</span>
<span class='rbrace'>}</span>
</code></pre>

<p>Asking for totals to be broken down by account:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_balance'>balance</span><span class='lparen'>(</span><span class='label'>account_break_down:</span> <span class='kw'>true</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_3e3j5tkog48pnny9dmfzj1r16pg8t1e76dz5tmac6iq689wyjfpi00000000</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>balance</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='float'>2.5</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pending</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='int'>1</span>
  <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_1e5aqegc1jb7qe964u4adzmcezyo6o146zb8hm6dft8tkp79za3sxwjym5rx</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>balance</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='float'>51.4</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pending</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='int'>0</span>
  <span class='rbrace'>}</span><span class='comma'>,</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>account_break_down</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(default is <code>false</code>). When <code>true</code> the response will contain balances per account.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{Symbol=&gt;Integer|Float|Hash}</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 192</span>

<span class='kw'>def</span> <span class='id identifier rubyid_balance'>balance</span><span class='lparen'>(</span><span class='label'>account_break_down:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_account_break_down'>account_break_down</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_balances</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:balances</span><span class='comma'>,</span> <span class='label'>_coerce:</span> <span class='const'>Hash</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>
        <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid__balances'>_balances</span><span class='op'>|</span>
          <span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='id identifier rubyid_account'>account</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='id identifier rubyid_account'>account</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='id identifier rubyid_account'>account</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:pending</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='id identifier rubyid_account'>account</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:pending</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_info</span><span class='comma'>,</span> <span class='label'>_coerce:</span> <span class='const'>Hash</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_response'>response</span> <span class='kw'>unless</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>

  <span class='lbrace'>{</span>
    <span class='label'>balance:</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='label'>pending:</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:pending</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="change_default_representative-instance_method">
  
    #<strong>change_default_representative</strong>(representative)  &#x21d2; <tt><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Nanook::Account</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='change_representative-instance_method'>change_representative</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the default representative for the wallet. A wallet&#39;s default representative is the representative all new accounts created in the wallet will have. Changing the default representative for a wallet does not change the representatives for existing accounts in the wallet.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_change_default_representative'>change_default_representative</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;nano_...&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>representative</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>id of the representative account to set as this account&#39;s representative</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Nanook::Account</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the representative account</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#Error-constant" title="Nanook::Error (constant)">Nanook::Error</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if setting the representative fails</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


503
504
505
506
507
508
509
510
511
512</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 503</span>

<span class='kw'>def</span> <span class='id identifier rubyid_change_default_representative'>change_default_representative</span><span class='lparen'>(</span><span class='id identifier rubyid_representative'>representative</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_representative'>representative</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_exists?'>exists?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Nanook.html#Error-constant" title="Nanook::Error (constant)">Error</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Representative account does not exist: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_representative'>representative</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Nanook.html#Error-constant" title="Nanook::Error (constant)">Error</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Setting the representative failed</span><span class='tstring_end'>&#39;</span></span> \
    <span class='kw'>unless</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_representative_set</span><span class='comma'>,</span> <span class='label'>representative:</span> <span class='id identifier rubyid_representative'>representative</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:set</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>

  <span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_representative'>representative</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="change_password-instance_method">
  
    #<strong>change_password</strong>(password)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Changes the password for a wallet.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_change_password'>change_password</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new_pass</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicates if the action was successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


701
702
703</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 701</span>

<span class='kw'>def</span> <span class='id identifier rubyid_change_password'>change_password</span><span class='lparen'>(</span><span class='id identifier rubyid_password'>password</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:password_change</span><span class='comma'>,</span> <span class='label'>password:</span> <span class='id identifier rubyid_password'>password</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:changed</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="change_seed-instance_method">
  
    #<strong>change_seed</strong>(seed)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Changes a wallet&#39;s seed.</p>

<p>It&#39;s recommended to only change the seed of a wallet that contains no accounts. This will clear all deterministic accounts in the wallet. To restore accounts after changing the seed, see Nanook::WalletAccount#create.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_change_seed'>change_seed</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>000D1BA...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span> <span class='comment'># Restores first 5 accounts for wallet with new seed
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>seed</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the seed to change to.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicating whether the change was successful.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


228
229
230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 228</span>

<span class='kw'>def</span> <span class='id identifier rubyid_change_seed'>change_seed</span><span class='lparen'>(</span><span class='id identifier rubyid_seed'>seed</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_change_seed</span><span class='comma'>,</span> <span class='label'>seed:</span> <span class='id identifier rubyid_seed'>seed</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:success</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="contains?-instance_method">
  
    #<strong>contains?</strong>(account)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Will return <code>true</code> if the account exists in the wallet.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_contains?'>contains?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>account</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>id (will start with <code>&quot;nano_...&quot;</code>)</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicating if the wallet contains the given account</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 296</span>

<span class='kw'>def</span> <span class='id identifier rubyid_contains?'>contains?</span><span class='lparen'>(</span><span class='id identifier rubyid_account'>account</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_contains</span><span class='comma'>,</span> <span class='label'>account:</span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:exists</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create-instance_method">
  
    #<strong>create</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="Nanook::Wallet (class)">Nanook::Wallet</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new wallet.</p>

<p>The wallet will be created only on this node. It&#39;s important that if you intend to add funds to accounts in this wallet that you backup the wallet <strong>seed</strong> in order to restore the wallet in future. The nano command line interface (CLI) is the only method for backing up a wallet&#39;s seed. See the <a href="https://github.com/nanocurrency/raiblocks/wiki/Command-line-interface" target="_parent" title="–wallet_decrypt_unsafe CLI command">–wallet_decrypt_unsafe CLI command</a>.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Nanook.html#initialize-instance_method" title="Nanook#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wallet'><span class='object_link'><a href="../Nanook.html#wallet-instance_method" title="Nanook#wallet (method)">wallet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span> <span class='comment'># =&gt; Nanook::Wallet
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nanook::Wallet (class)">Nanook::Wallet</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248
249
250</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 246</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span>
  <span class='id identifier rubyid_skip_wallet_required!'>skip_wallet_required!</span>
  <span class='ivar'>@wallet</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_create</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:wallet</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="default_representative-instance_method">
  
    #<strong>default_representative</strong>  &#x21d2; <tt><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Nanook::Account</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='representative-instance_method'>representative</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The default representative account id for the wallet. This is the representative that all new accounts created in this wallet will have.</p>

<p>Changing the default representative for a wallet does not change the representatives for any accounts that have been created.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_default_representative'>default_representative</span> <span class='comment'># =&gt; &quot;nano_3pc...&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Nanook::Account</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Representative account. Can be nil.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


483
484
485
486</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 483</span>

<span class='kw'>def</span> <span class='id identifier rubyid_default_representative'>default_representative</span>
  <span class='id identifier rubyid_representative'>representative</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_representative</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:representative</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_representative'>representative</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_representative'>representative</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="destroy-instance_method">
  
    #<strong>destroy</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Destroys the wallet.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_destroy'>destroy</span> <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicating success of the action</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


259
260
261</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 259</span>

<span class='kw'>def</span> <span class='id identifier rubyid_destroy'>destroy</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_destroy</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:destroyed</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exists?-instance_method">
  
    #<strong>exists?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if wallet exists on the node.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_exists?'>exists?</span> <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if wallet exists on the node</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


282
283
284
285
286
287</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 282</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exists?'>exists?</span>
  <span class='id identifier rubyid_export'>export</span>
  <span class='kw'>true</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Nanook.html#NodeRpcError-constant" title="Nanook::NodeRpcError (constant)">NodeRpcError</a></span></span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="export-instance_method">
  
    #<strong>export</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generates a String containing a JSON representation of your wallet.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_export'>export</span>
  <span class='comment'># =&gt; &quot;{\n    \&quot;0000000000000000000000000000000000000000000000000000000000000000\&quot;: \&quot;0000000000000000000000000000000000000000000000000000000000000003\&quot;,\n    \&quot;0000000000000000000000000000000000000000000000000000000000000001\&quot;: \&quot;C3A176FC3B90113277BFC91F55128FC9A1F1B6166A73E7446927CFFCA4C2C9D9\&quot;,\n    \&quot;0000000000000000000000000000000000000000000000000000000000000002\&quot;: \&quot;3E58EC805B99C52B4715598BD332C234A1FBF1780577137E18F53B9B7F85F04B\&quot;,\n    \&quot;0000000000000000000000000000000000000000000000000000000000000003\&quot;: \&quot;5FF8021122F3DEE0E4EC4241D35A3F41DEF63CCF6ADA66AF235DE857718498CD\&quot;,\n    \&quot;0000000000000000000000000000000000000000000000000000000000000004\&quot;: \&quot;A30E0A32ED41C8607AA9212843392E853FCBCB4E7CB194E35C94F07F91DE59EF\&quot;,\n    \&quot;0000000000000000000000000000000000000000000000000000000000000005\&quot;: \&quot;E707002E84143AA5F030A6DB8DD0C0480F2FFA75AB1FFD657EC22B5AA8E395D5\&quot;,\n    \&quot;0000000000000000000000000000000000000000000000000000000000000006\&quot;: \&quot;0000000000000000000000000000000000000000000000000000000000000001\&quot;,\n    \&quot;8646C0423160DEAEAA64034F9C6858F7A5C8A329E73E825A5B16814F6CCAFFE3\&quot;: \&quot;0000000000000000000000000000000000000000000000000000000100000000\&quot;\n}\n&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


271
272
273</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 271</span>

<span class='kw'>def</span> <span class='id identifier rubyid_export'>export</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_export</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:json</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hash-instance_method">
  
    #<strong>hash</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The hash value is used along with #eql? by the Hash class to determine if two objects reference the same hash key.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hash'>hash</span>
  <span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_hash'>hash</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="history-instance_method">
  
    #<strong>history</strong>(unit: Nanook.default_unit)  &#x21d2; <tt>Array&lt;Hash{Symbol=&gt;String|<span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Nanook::Account</a></span>|<span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span>|<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>|Integer|Float|Time}&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Reports send/receive information for accounts in wallet. Change blocks are skipped, open blocks will appear as receive. Response will start with most recent blocks according to local ledger.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_history'>history</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby">[
  {
    &quot;type&quot;: &quot;send&quot;,
    &quot;account&quot;: Nanook::Account,
    &quot;amount&quot;: 3.2,
    &quot;block_account&quot;: Nanook::Account,
    &quot;hash&quot;: Nanook::Block,
    &quot;local_timestamp&quot;: Time
  },
  {
    ...
  }
]
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash{Symbol=&gt;String|<span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Nanook::Account</a></span>|<span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span>|<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>|Integer|Float|Time}&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


649
650
651
652
653
654
655
656
657
658
659
660</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 649</span>

<span class='kw'>def</span> <span class='id identifier rubyid_history'>history</span><span class='lparen'>(</span><span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_history</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='label'>_coerce:</span> <span class='const'>Array</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:account</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_account'>account</span><span class='lparen'>(</span><span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:account</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:block_account</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:block_account</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:amount</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:amount</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:block</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_h'>h</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:hash</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:local_timestamp</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_time'>as_time</span><span class='lparen'>(</span><span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:local_timestamp</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_h'>h</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="id-instance_method">
  
    #<strong>id</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the wallet id.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the wallet id</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 61</span>

<span class='kw'>def</span> <span class='id identifier rubyid_id'>id</span>
  <span class='ivar'>@wallet</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="info-instance_method">
  
    #<strong>info</strong>(unit: Nanook.default_unit)  &#x21d2; <tt>Hash{Symbol=&gt;Integer|Float}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information about this wallet.</p>

<p>This call may return results that include unconfirmed blocks, so it should not be used in any processes or integrations requiring only details from blocks confirmed by the network.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby">{
  balance: 1.0,
  pending: 2.3
  accounts_count: 3,
  adhoc_count: 1,
  deterministic_count: 2,
  deterministic_index: 2
</code></pre>

<p>}</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{Symbol=&gt;Integer|Float}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>information about the wallet.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


609
610
611
612
613
614
615
616
617
618
619
620</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 609</span>

<span class='kw'>def</span> <span class='id identifier rubyid_info'>info</span><span class='lparen'>(</span><span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_info</span><span class='comma'>,</span> <span class='label'>_coerce:</span> <span class='const'>Hash</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>
    <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:pending</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:pending</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_response'>response</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ledger-instance_method">
  
    #<strong>ledger</strong>(unit: Nanook.default_unit)  &#x21d2; <tt>Hash{<span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Nanook::Account</a></span>=&gt;Hash{Symbol=&gt;<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>|Integer|Float|Time}}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information ledger information about this wallet&#39;s accounts.</p>

<p>This call may return results that include unconfirmed blocks, so it should not be used in any processes or integrations requiring only details from blocks confirmed by the network.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_ledger'>ledger</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby">{
  Nanook::Account =&gt; {
    frontier: &quot;E71AF3E9DD86BBD8B4620EFA63E065B34D358CFC091ACB4E103B965F95783321&quot;,
    open_block: &quot;643B77F1ECEFBDBE1CC909872964C1DBBE23A6149BD3CEF2B50B76044659B60F&quot;,
    representative_block: &quot;643B77F1ECEFBDBE1CC909872964C1DBBE23A6149BD3CEF2B50B76044659B60F&quot;,
    balance: 1.45,
    modified_timestamp: 1511476234,
    block_count: 2
  },
  Nanook::Account =&gt; { ... }
}
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{<span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Nanook::Account</a></span>=&gt;Hash{Symbol=&gt;<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>|Integer|Float|Time}}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>ledger.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 567</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ledger'>ledger</span><span class='lparen'>(</span><span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_ledger</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:accounts</span><span class='comma'>,</span> <span class='label'>_coerce:</span> <span class='const'>Hash</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_accounts'>accounts</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_account_id'>account_id</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span><span class='op'>|</span>
    <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:frontier</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:frontier</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:frontier</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:open_block</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:open_block</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:open_block</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:representative_block</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:representative_block</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:representative_block</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='symbol'>:last_modified_at</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_time'>as_time</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:modified_timestamp</span><span class='rparen'>)</span><span class='rparen'>)</span>

    <span class='lbracket'>[</span><span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_account_id'>account_id</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='const'>Hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_accounts'>accounts</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lock-instance_method">
  
    #<strong>lock</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Locks the wallet. A locked wallet cannot pocket pending transactions or make payments. See <span class='object_link'><a href="#unlock-instance_method" title="Nanook::Wallet#unlock (method)">#unlock</a></span>.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span> <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicates if the wallet was successfully locked</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


669
670
671</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 669</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lock'>lock</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_lock</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:locked</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="locked?-instance_method">
  
    #<strong>locked?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the wallet is locked.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_locked?'>locked?</span> <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicates if the wallet is locked</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


680
681
682</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 680</span>

<span class='kw'>def</span> <span class='id identifier rubyid_locked?'>locked?</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_locked</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:locked</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="move_accounts-instance_method">
  
    #<strong>move_accounts</strong>(wallet, accounts)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Move accounts from another <span class='object_link'><a href="" title="Nanook::Wallet (class)">Nanook::Wallet</a></span> on the node to this <span class='object_link'><a href="" title="Nanook::Wallet (class)">Nanook::Wallet</a></span>.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_move_accounts'>move_accounts</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0023200...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_3e3j5...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_5f2a1...</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true when the move was successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 131</span>

<span class='kw'>def</span> <span class='id identifier rubyid_move_accounts'>move_accounts</span><span class='lparen'>(</span><span class='id identifier rubyid_wallet'>wallet</span><span class='comma'>,</span> <span class='id identifier rubyid_accounts'>accounts</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_move</span><span class='comma'>,</span> <span class='label'>source:</span> <span class='id identifier rubyid_wallet'>wallet</span><span class='comma'>,</span> <span class='label'>accounts:</span> <span class='id identifier rubyid_accounts'>accounts</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:moved</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pay-instance_method">
  
    #<strong>pay</strong>(from:, to:, amount:, id:, unit: Nanook.default_unit)  &#x21d2; <tt><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Makes a payment from an account in your wallet to another account on the nano network.</p>

<p>Note, there may be a delay in receiving a response due to Proof of Work being done. From the <a href="https://docs.nano.org/commands/rpc-protocol/#send">Nano RPC</a>:</p>

<p><em>Proof of Work is precomputed for one transaction in the background. If it has been a while since your last transaction it will send instantly, the next one will need to wait for Proof of Work to be generated.</em></p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_pay'>pay</span><span class='lparen'>(</span><span class='label'>from:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>to:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>amount:</span> <span class='float'>1.1</span><span class='comma'>,</span> <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>myUniqueId123</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;9AE2311...&quot;
</span><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_pay'>pay</span><span class='lparen'>(</span><span class='label'>from:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>to:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>amount:</span> <span class='int'>54000000000000</span><span class='comma'>,</span> <span class='label'>unit:</span> <span class='symbol'>:raw</span><span class='comma'>,</span> <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>myUniqueId123</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; &quot;9AE2311...&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>from</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>account id of an account in your wallet</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>to</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>account id of the recipient of your payment</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>amount</span>
      
      
        <span class='type'>(<tt>Integer|Float</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the send block for the payment</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#Error-constant" title="Nanook::Error (constant)">Nanook::Error</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if unsuccessful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


330
331
332
333</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 330</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pay'>pay</span><span class='lparen'>(</span><span class='label'>from:</span><span class='comma'>,</span> <span class='label'>to:</span><span class='comma'>,</span> <span class='label'>amount:</span><span class='comma'>,</span> <span class='label'>id:</span><span class='comma'>,</span> <span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_wallet_contains_account!'>validate_wallet_contains_account!</span><span class='lparen'>(</span><span class='id identifier rubyid_from'>from</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_account'>account</span><span class='lparen'>(</span><span class='id identifier rubyid_from'>from</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pay'>pay</span><span class='lparen'>(</span><span class='label'>to:</span> <span class='id identifier rubyid_to'>to</span><span class='comma'>,</span> <span class='label'>amount:</span> <span class='id identifier rubyid_amount'>amount</span><span class='comma'>,</span> <span class='label'>unit:</span> <span class='id identifier rubyid_unit'>unit</span><span class='comma'>,</span> <span class='label'>id:</span> <span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pending-instance_method">
  
    #<strong>pending</strong>(limit: 1000, detailed: false, unit: Nanook.default_unit)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information about pending blocks (payments) that are waiting to be received by accounts in this wallet.</p>

<p>See also the <span class='object_link'><a href="#receive-instance_method" title="Nanook::Wallet#receive (method)">#receive</a></span> method of this class for how to receive a pending payment.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_pending'>pending</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby">{
  Nanook::Account=&gt;[
    Nanook::Block,
    Nanook::Block&quot;
  ],
  Nanook::Account=&gt;[
    Nanook::Block
  ]
}
</code></pre>

<p>Asking for more information:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_pending'>pending</span><span class='lparen'>(</span><span class='label'>detailed:</span> <span class='kw'>true</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Account</a></span></span><span class='op'>=&gt;</span><span class='lbracket'>[</span>
    <span class='lbrace'>{</span>
      <span class='symbol'>:amount</span><span class='op'>=&gt;</span><span class='float'>6.0</span><span class='comma'>,</span>
      <span class='symbol'>:source</span><span class='op'>=&gt;</span><span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Account</a></span></span><span class='comma'>,</span>
      <span class='symbol'>:block</span><span class='op'>=&gt;</span><span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span></span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='lbrace'>{</span>
      <span class='symbol'>:amount</span><span class='op'>=&gt;</span><span class='float'>12.0</span><span class='comma'>,</span>
      <span class='symbol'>:source</span><span class='op'>=&gt;</span><span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Account</a></span></span><span class='comma'>,</span>
      <span class='symbol'>:block</span><span class='op'>=&gt;</span><span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span></span>
    <span class='rbrace'>}</span>
  <span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Account</a></span></span><span class='op'>=&gt;</span><span class='lbracket'>[</span>
    <span class='lbrace'>{</span>
      <span class='symbol'>:amount</span><span class='op'>=&gt;</span><span class='float'>106.370018</span><span class='comma'>,</span>
      <span class='symbol'>:source</span><span class='op'>=&gt;</span><span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Account</a></span></span><span class='comma'>,</span>
      <span class='symbol'>:block</span><span class='op'>=&gt;</span><span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span></span>
    <span class='rbrace'>}</span>
  <span class='rbracket'>]</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1000</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>number of accounts with pending payments to return (default is 1000)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>detailed</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>return a more complex Hash of pending block information (default is <code>false</code>)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 389</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pending'>pending</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>1000</span><span class='comma'>,</span> <span class='label'>detailed:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>count:</span> <span class='id identifier rubyid_limit'>limit</span><span class='comma'>,</span>
    <span class='label'>_access:</span> <span class='symbol'>:blocks</span><span class='comma'>,</span>
    <span class='label'>_coerce:</span> <span class='const'>Hash</span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:source</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_detailed'>detailed</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_pending</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_detailed'>detailed</span>

    <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_block_ids'>block_ids</span><span class='op'>|</span>
      <span class='id identifier rubyid_blocks'>blocks</span> <span class='op'>=</span> <span class='id identifier rubyid_block_ids'>block_ids</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_block_id'>block_id</span><span class='op'>|</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_block_id'>block_id</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='lbracket'>[</span><span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_account'>account</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_blocks'>blocks</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='const'>Hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='comment'># Map the RPC response, which is:
</span>  <span class='comment'># account=&gt;block=&gt;[amount|source] into
</span>  <span class='comment'># account=&gt;[block|amount|source]
</span>  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span><span class='op'>|</span>
    <span class='id identifier rubyid_new_data'>new_data</span> <span class='op'>=</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_block'>block</span><span class='comma'>,</span> <span class='id identifier rubyid_amount_and_source'>amount_and_source</span><span class='op'>|</span>
      <span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='lbrace'>{</span>
        <span class='label'>block:</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>source:</span> <span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_amount_and_source'>amount_and_source</span><span class='lbracket'>[</span><span class='symbol'>:source</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>amount:</span> <span class='id identifier rubyid_amount_and_source'>amount_and_source</span><span class='lbracket'>[</span><span class='symbol'>:amount</span><span class='rbracket'>]</span>
      <span class='rbrace'>}</span>
      <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:amount</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:amount</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>
      <span class='id identifier rubyid_d'>d</span>
    <span class='kw'>end</span>

    <span class='lbracket'>[</span><span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_account'>account</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_new_data'>new_data</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='const'>Hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="receive-instance_method">
  
    #<strong>receive</strong>(block = nil, into:)  &#x21d2; <tt><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span></tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Receives a pending payment into an account in the wallet.</p>

<p>When called with no <code>block</code> argument, the latest pending payment for the account will be received.</p>

<p>Returns a <em>receive</em> block if a receive was successful, or <code>false</code> if there were no pending payments to receive.</p>

<p>You can receive a specific pending block if you know it by passing the block has in as an argument.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_receive'>receive</span><span class='lparen'>(</span><span class='label'>into:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xrb...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>               <span class='comment'># =&gt; Nanook::Block
</span><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_receive'>receive</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>718CC21...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>into:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xrb...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; Nanook::Block
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>into</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>account id of account in your wallet to receive the payment into</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>block</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>optional block id of pending payment. If not provided, the latest pending payment will be received</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the receive block</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if there was no block to receive</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


452
453
454
455</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 452</span>

<span class='kw'>def</span> <span class='id identifier rubyid_receive'>receive</span><span class='lparen'>(</span><span class='id identifier rubyid_block'>block</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>into:</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_wallet_contains_account!'>validate_wallet_contains_account!</span><span class='lparen'>(</span><span class='id identifier rubyid_into'>into</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_account'>account</span><span class='lparen'>(</span><span class='id identifier rubyid_into'>into</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_receive'>receive</span><span class='lparen'>(</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_account-instance_method">
  
    #<strong>remove_account</strong>(account)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Remove an <span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Account</a></span> from this <span class='object_link'><a href="" title="Nanook::Wallet (class)">Nanook::Wallet</a></span>.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_remove_account'>remove_account</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_3e3j5...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true when the remove was successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 142</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_account'>remove_account</span><span class='lparen'>(</span><span class='id identifier rubyid_account'>account</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_remove</span><span class='comma'>,</span> <span class='label'>account:</span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:removed</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="republish_blocks-instance_method">
  
    #<strong>republish_blocks</strong>(limit: 1000)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Rebroadcast blocks for accounts from wallet starting at frontier down to count to the network.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_republish_blocks'>republish_blocks</span>             <span class='comment'># =&gt; [Nanook::Block, ...]
</span><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_republish_blocks'>republish_blocks</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>10</span><span class='rparen'>)</span>  <span class='comment'># =&gt; [Nanook::Block, ...
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1000</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>limit of blocks to publish. Default is 1000.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>republished blocks</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


466
467
468
469
470</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 466</span>

<span class='kw'>def</span> <span class='id identifier rubyid_republish_blocks'>republish_blocks</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>1000</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_republish</span><span class='comma'>,</span> <span class='label'>count:</span> <span class='id identifier rubyid_limit'>limit</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:blocks</span><span class='comma'>,</span> <span class='label'>_coerce:</span> <span class='const'>Array</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_block'>block</span><span class='op'>|</span>
    <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restore-instance_method">
  
    #<strong>restore</strong>(seed, accounts: 0)  &#x21d2; <tt><span class='object_link'><a href="" title="Nanook::Wallet (class)">Nanook::Wallet</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Restores a previously created wallet by its seed. A new wallet will be created on your node (with a new wallet id) and will have its seed set to the given seed.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Nanook.html#initialize-instance_method" title="Nanook#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wallet'><span class='object_link'><a href="../Nanook.html#wallet-instance_method" title="Nanook#wallet (method)">wallet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_restore'>restore</span><span class='lparen'>(</span><span class='id identifier rubyid_seed'>seed</span><span class='rparen'>)</span> <span class='comment'># =&gt; Nanook::Wallet
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>seed</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the wallet seed to restore.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>accounts</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>0</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>optionally restore the given number of accounts for the wallet.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nanook::Wallet (class)">Nanook::Wallet</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a new wallet</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#Error-constant" title="Nanook::Error (constant)">Nanook::Error</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if unsuccessful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


528
529
530
531
532
533
534
535
536
537
538</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 528</span>

<span class='kw'>def</span> <span class='id identifier rubyid_restore'>restore</span><span class='lparen'>(</span><span class='id identifier rubyid_seed'>seed</span><span class='comma'>,</span> <span class='label'>accounts:</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_skip_wallet_required!'>skip_wallet_required!</span>

  <span class='id identifier rubyid_create'>create</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Nanook.html#Error-constant" title="Nanook::Error (constant)">Error</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Unable to set seed for wallet</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_change_seed'>change_seed</span><span class='lparen'>(</span><span class='id identifier rubyid_seed'>seed</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='id identifier rubyid_accounts'>accounts</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_accounts'>accounts</span><span class='period'>.</span><span class='id identifier rubyid_positive?'>positive?</span>

  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="search_pending-instance_method">
  
    #<strong>search_pending</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tells the node to look for pending blocks for any account in the wallet.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_search_pending'>search_pending</span> <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicates if the action was successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


711
712
713</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 711</span>

<span class='kw'>def</span> <span class='id identifier rubyid_search_pending'>search_pending</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:search_pending</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:started</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt>String</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='inspect-instance_method'>inspect</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


301
302
303</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 301</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>(id: \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_short_id'>short_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;)</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unlock-instance_method">
  
    #<strong>unlock</strong>(password = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Unlocks a previously locked wallet.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_unlock'>unlock</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new_pass</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicates if the unlocking action was successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


691
692
693</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 691</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unlock'>unlock</span><span class='lparen'>(</span><span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:password_enter</span><span class='comma'>,</span> <span class='label'>password:</span> <span class='id identifier rubyid_password'>password</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:valid</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="work-instance_method">
  
    #<strong>work</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a list of pairs of <span class='object_link'><a href="WalletAccount.html" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span> and work for wallet.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_work'>work</span>
</code></pre>

<h4 id="label-Example+response-3A">Example response:</h4>

<pre class="code ruby"><code class="ruby">{
  Nanook::WalletAccount: &quot;432e5cf728c90f4f&quot;,
  Nanook::WalletAccount: &quot;4efec5f63fc902cf&quot;
}
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicates if the action was successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


728
729
730
731
732
733
734</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet.rb', line 728</span>

<span class='kw'>def</span> <span class='id identifier rubyid_work'>work</span>
  <span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:wallet_work_get</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:works</span><span class='comma'>,</span> <span class='label'>_coerce:</span> <span class='const'>Hash</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_account_id'>account_id</span><span class='comma'>,</span> <span class='id identifier rubyid_work'>work</span><span class='op'>|</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_as_wallet_account'>as_wallet_account</span><span class='lparen'>(</span><span class='id identifier rubyid_account_id'>account_id</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_work'>work</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='const'>Hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_hash'>hash</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun May  2 16:51:09 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.0).
</div>

    </div>
  </body>
</html>