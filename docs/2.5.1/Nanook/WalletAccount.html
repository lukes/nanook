<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Nanook::WalletAccount
  
    &mdash; Nanook 2.5.1 Documentation
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Nanook::WalletAccount";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (W)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span>
     &raquo; 
    <span class="title">WalletAccount</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Nanook::WalletAccount
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Nanook::WalletAccount</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>Forwardable</dd>
  </dl>
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/nanook/wallet_account.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The <code>Nanook::WalletAccount</code> class lets you manage your nano accounts, including paying and receiving payment.</p>

<h3 id="label-Initializing">Initializing</h3>

<p>Initialize this class through an instance of <span class='object_link'><a href="Wallet.html" title="Nanook::Wallet (class)">Wallet</a></span> like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Nanook.html#initialize-instance_method" title="Nanook#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wallet'><span class='object_link'><a href="../Nanook.html#wallet-instance_method" title="Nanook#wallet (method)">wallet</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_wallet_id'>wallet_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_account'><span class='object_link'><a href="Wallet.html#account-instance_method" title="Nanook::Wallet#account (method)">account</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_account_id'>account_id</span><span class='rparen'>)</span>
</code></pre>

<p>Or compose the longhand way like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rpc_conn'>rpc_conn</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Rpc.html" title="Nanook::Rpc (class)">Rpc</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Rpc.html#initialize-instance_method" title="Nanook::Rpc#initialize (method)">new</a></span></span>
<span class='id identifier rubyid_account'>account</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'>WalletAccount</span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Nanook::WalletAccount#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rpc_conn'>rpc_conn</span><span class='comma'>,</span> <span class='id identifier rubyid_wallet_id'>wallet_id</span><span class='comma'>,</span> <span class='id identifier rubyid_account_id'>account_id</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#balance-instance_method" title="#balance (instance method)">#<strong>balance</strong>(unit: Nanook.default_unit)  &#x21d2; Hash{Symbol=&gt;Integer|Float} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The account&#39;s balance, including pending (unreceived payments).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#block_count-instance_method" title="#block_count (instance method)">#<strong>block_count</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Number of blocks for this account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_representative-instance_method" title="#change_representative (instance method)">#<strong>change_representative</strong>(representative)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the representative for the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-instance_method" title="#create (instance method)">#<strong>create</strong>(n = 1)  &#x21d2; Nanook::WalletAccount<sup>+</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new account, or multiple new accounts, in this wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delegators-instance_method" title="#delegators (instance method)">#<strong>delegators</strong>(unit: Nanook.default_unit)  &#x21d2; Hash{Symbol=&gt;Integer} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information about this accounts that have set this account as their representative.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#destroy-instance_method" title="#destroy (instance method)">#<strong>destroy</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Unlinks the account from the wallet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exists%3F-instance_method" title="#exists? (instance method)">#<strong>exists?</strong>  &#x21d2; Boolean </a>
    

    
      (also: #open?)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if the account has an <em>open</em> block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#history-instance_method" title="#history (instance method)">#<strong>history</strong>(limit: 1000, unit: Nanook.default_unit)  &#x21d2; Array&lt;Hash{Symbol=&gt;String}&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An account&#39;s history of send and receive payments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">#<strong>id</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The id of the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#info-instance_method" title="#info (instance method)">#<strong>info</strong>(detailed: false, unit: Nanook.default_unit)  &#x21d2; Hash{Symbol=&gt;String|Integer|Float} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information about the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(rpc, wallet, account)  &#x21d2; WalletAccount </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of WalletAccount.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_modified_at-instance_method" title="#last_modified_at (instance method)">#<strong>last_modified_at</strong>  &#x21d2; Time </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The last modified time of the account in the time zone of your nano node (usually UTC).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ledger-instance_method" title="#ledger (instance method)">#<strong>ledger</strong>(limit: 1, modified_since: nil, unit: Nanook.default_unit)  &#x21d2; Hash{Symbol=&gt;String|Integer} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information about the given account as well as other accounts up the ledger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pay-instance_method" title="#pay (instance method)">#<strong>pay</strong>(to:, amount:, unit: Nanook::default_unit, id:)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Makes a payment from this account to another account on the nano network.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pending-instance_method" title="#pending (instance method)">#<strong>pending</strong>(limit: 1000, detailed: false, unit: Nanook.default_unit)  &#x21d2; Array&lt;String&gt;, Array&lt;Hash{Symbol=&gt;String|Integer}&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information about pending blocks (payments) that are waiting to be received by the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#public_key-instance_method" title="#public_key (instance method)">#<strong>public_key</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The public key of the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#receive-instance_method" title="#receive (instance method)">#<strong>receive</strong>(block = nil)  &#x21d2; String, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Receives a pending payment for this account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#representative-instance_method" title="#representative (instance method)">#<strong>representative</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The representative account id for the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#weight-instance_method" title="#weight (instance method)">#<strong>weight</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The account&#39;s weight.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(rpc, wallet, account)  &#x21d2; <tt><span class='object_link'><a href="" title="Nanook::WalletAccount (class)">WalletAccount</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of WalletAccount.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_rpc'>rpc</span><span class='comma'>,</span> <span class='id identifier rubyid_wallet'>wallet</span><span class='comma'>,</span> <span class='id identifier rubyid_account'>account</span><span class='rparen'>)</span>
  <span class='ivar'>@rpc</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span>
  <span class='ivar'>@wallet</span> <span class='op'>=</span> <span class='id identifier rubyid_wallet'>wallet</span>
  <span class='ivar'>@account</span> <span class='op'>=</span> <span class='id identifier rubyid_account'>account</span>
  <span class='ivar'>@nanook_account_instance</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='kw'>unless</span> <span class='ivar'>@account</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'># Wallet must contain the account
</span>    <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Wallet.html" title="Nanook::Wallet (class)">Wallet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Wallet.html#initialize-instance_method" title="Nanook::Wallet#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@rpc</span><span class='comma'>,</span> <span class='ivar'>@wallet</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_contains?'><span class='object_link'><a href="Wallet.html#contains%3F-instance_method" title="Nanook::Wallet#contains? (method)">contains?</a></span></span><span class='lparen'>(</span><span class='ivar'>@account</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Account does not exist in wallet. Account: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@account</span><span class='embexpr_end'>}</span><span class='tstring_content'>, wallet: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@wallet</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='comment'># An object to delegate account methods that don&#39;t
</span>    <span class='comment'># expect a wallet param in the RPC call, to allow this
</span>    <span class='comment'># class to support all methods that can be called on Nanook::Account
</span>    <span class='ivar'>@nanook_account_instance</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Account</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Account.html#initialize-instance_method" title="Nanook::Account#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@rpc</span><span class='comma'>,</span> <span class='ivar'>@account</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="balance-instance_method">
  
    #<strong>balance</strong>(unit: Nanook.default_unit)  &#x21d2; <tt>Hash{Symbol=&gt;Integer|Float}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The account&#39;s balance, including pending (unreceived payments). To receive a pending amount see <span class='object_link'><a href="#receive-instance_method" title="Nanook::WalletAccount#receive (method)">#receive</a></span>.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_balance'>balance</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='label'>balance:</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='label'>pending:</span> <span class='float'>1.1</span>
<span class='rbrace'>}</span>
</code></pre>

<p>Asking for the balance to be returned in raw instead of NANO:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_balance'>balance</span><span class='lparen'>(</span><span class='label'>unit:</span> <span class='symbol'>:raw</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='label'>balance:</span> <span class='int'>2000000000000000000000000000000</span><span class='comma'>,</span>
  <span class='label'>pending:</span> <span class='int'>1100000000000000000000000000000</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://nano.org/en/faq#what-are-nano-units" target="_parent" title="- What are Nano&amp;#39;s Units">- What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{Symbol=&gt;Integer|Float}</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>ArgumentError if an invalid <code>unit</code> was given.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="block_count-instance_method">
  
    #<strong>block_count</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns number of blocks for this account.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>number of blocks for this account</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="change_representative-instance_method">
  
    #<strong>change_representative</strong>(representative)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the representative for the account.</p>

<p>A representative is an account that will vote on your account&#39;s behalf on the nano network if your account is offline and there is a fork of the network that requires voting on.</p>

<p>Returns the <em>change block</em> that was broadcast to the nano network. The block contains the information about the representative change for your account.</p>

<p>Also see <span class='object_link'><a href="Wallet.html#change_default_representative-instance_method" title="Nanook::Wallet#change_default_representative (method)">Nanook::Wallet#change_default_representative</a></span> for how to set a default representative for all new accounts created in a wallet.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_change_representative'>change_representative</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;000D1BAEC8EC208142C99059B393051BAC8380F9B5A2E6B2489A277D81789F3F&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>representative</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the id of the representative account to set as this account&#39;s representative</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>id of the <em>change</em> block created</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the representative account does not exist</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


220
221
222
223
224
225
226</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 220</span>

<span class='kw'>def</span> <span class='id identifier rubyid_change_representative'>change_representative</span><span class='lparen'>(</span><span class='id identifier rubyid_representative'>representative</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Account.html" title="Nanook::Account (class)">Account</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Account.html#initialize-instance_method" title="Nanook::Account#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@rpc</span><span class='comma'>,</span> <span class='id identifier rubyid_representative'>representative</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_exists?'><span class='object_link'><a href="Account.html#exists%3F-instance_method" title="Nanook::Account#exists? (method)">exists?</a></span></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Representative account does not exist: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_representative'>representative</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_representative_set</span><span class='comma'>,</span> <span class='label'>representative:</span> <span class='id identifier rubyid_representative'>representative</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:block</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create-instance_method">
  
    #<strong>create</strong>(n = 1)  &#x21d2; <tt><span class='object_link'><a href="" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span></tt><sup>+</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new account, or multiple new accounts, in this wallet.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span>     <span class='comment'># =&gt; Nanook::WalletAccount
</span><span class='id identifier rubyid_wallet'>wallet</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>  <span class='comment'># =&gt; [Nanook::WalletAccount, Nanook::WalletAccount]
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>n</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>number of accounts to create</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returns a single <span class='object_link'><a href="" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span> if invoked with no argument</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returns an Array of <span class='object_link'><a href="" title="Nanook::WalletAccount (class)">Nanook::WalletAccount</a></span> if method was called with argument <code>n</code> &gt;  1</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if <code>n</code> is less than 1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


81
82
83
84
85
86
87
88
89
90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 81</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='op'>=</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&lt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>number of accounts must be greater than 0</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Nanook::WalletAccount (class)">WalletAccount</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Nanook::WalletAccount#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@rpc</span><span class='comma'>,</span> <span class='ivar'>@wallet</span><span class='comma'>,</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_create</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:account</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:accounts_create</span><span class='comma'>,</span> <span class='label'>count:</span> <span class='id identifier rubyid_n'>n</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:accounts</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_account'>account</span><span class='op'>|</span>
      <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Nanook::WalletAccount (class)">WalletAccount</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Nanook::WalletAccount#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@rpc</span><span class='comma'>,</span> <span class='ivar'>@wallet</span><span class='comma'>,</span> <span class='id identifier rubyid_account'>account</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delegators-instance_method">
  
    #<strong>delegators</strong>(unit: Nanook.default_unit)  &#x21d2; <tt>Hash{Symbol=&gt;Integer}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information about this accounts that have set this account as their representative.</p>

<h3 id="label-Example-3A">Example:</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_delegators'>delegators</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='symbol'>:nano_13bqhi1cdqq8yb9szneoc38qk899d58i5rcrgdk5mkdm86hekpoez3zxw5sd</span><span class='op'>=&gt;</span><span class='int'>500000000000000000000000000000000000</span><span class='comma'>,</span>
  <span class='symbol'>:nano_17k6ug685154an8gri9whhe5kb5z1mf5w6y39gokc1657sh95fegm8ht1zpn</span><span class='op'>=&gt;</span><span class='int'>961647970820730000000000000000000000</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://nano.org/en/faq#what-are-nano-units" target="_parent" title="- What are Nano&amp;#39;s Units">- What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{Symbol=&gt;Integer}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>account ids which delegate to this account, and their account balance</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="destroy-instance_method">
  
    #<strong>destroy</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Unlinks the account from the wallet.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_destroy'>destroy</span> <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>true</code> if action was successful, otherwise <code>false</code></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 102</span>

<span class='kw'>def</span> <span class='id identifier rubyid_destroy'>destroy</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_remove</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:removed</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exists?-instance_method">
  
    #<strong>exists?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='open?-instance_method'>open?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if the account has an <em>open</em> block.</p>

<p>An open block gets published when an account receives a payment for the first time.</p>

<p>The reliability of this check depends on the node host having synchronized itself with most of the blocks on the nano network, otherwise you may get <code>false</code> when the account does exist. You can check if a node&#39;s  synchronization is particular low using <span class='object_link'><a href="Node.html#sync_progress-instance_method" title="Nanook::Node#sync_progress (method)">Node#sync_progress</a></span>.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_exists?'>exists?</span> <span class='comment'># =&gt; true
</span><span class='comment'># or
</span><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_open?'>open?</span>   <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Indicates if this account has an open block</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="history-instance_method">
  
    #<strong>history</strong>(limit: 1000, unit: Nanook.default_unit)  &#x21d2; <tt>Array&lt;Hash{Symbol=&gt;String}&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An account&#39;s history of send and receive payments.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_history'>history</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span>
  <span class='lbrace'>{</span>
   <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>send</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
   <span class='label'>account:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_1kdc5u48j3hr5r7eof9iao47szqh81ndqgq5e5hrsn1g9a3sa4hkkcotn3uq</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
   <span class='label'>amount:</span> <span class='int'>2</span><span class='comma'>,</span>
   <span class='label'>hash:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2C3C570EA8898443C0FD04A1C385A3E3A8C985AD792635FCDCEBB30ADF6A0570</span><span class='tstring_end'>&quot;</span></span>
  <span class='rbrace'>}</span>
<span class='rbracket'>]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1000</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>maximum number of history items to return</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://nano.org/en/faq#what-are-nano-units" target="_parent" title="- What are Nano&amp;#39;s Units">- What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash{Symbol=&gt;String}&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the history of send and receive payments for this account</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="id-instance_method">
  
    #<strong>id</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The id of the account.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='comment'># =&gt; &quot;nano_16u...&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the id of the account</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="info-instance_method">
  
    #<strong>info</strong>(detailed: false, unit: Nanook.default_unit)  &#x21d2; <tt>Hash{Symbol=&gt;String|Integer|Float}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information about the account.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_16u1uufyoig8777y6r8iqjtrw8sg8maqrm36zzcm95jmbd9i9aj5i8abr8u5</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>balance:</span> <span class='float'>11.439597000000001</span><span class='comma'>,</span>
  <span class='label'>block_count:</span> <span class='int'>4</span><span class='comma'>,</span>
  <span class='label'>frontier:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2C3C570EA8898443C0FD04A1C385A3E3A8C985AD792635FCDCEBB30ADF6A0570</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>modified_timestamp:</span> <span class='int'>1520500357</span><span class='comma'>,</span>
  <span class='label'>open_block:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C82376314C387080A753871A32AD70F4168080C317C5E67356F0A62EB5F34FF9</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>representative_block:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C82376314C387080A753871A32AD70F4168080C317C5E67356F0A62EB5F34FF9</span><span class='tstring_end'>&quot;</span></span>
<span class='rbrace'>}</span>
</code></pre>

<p>Asking for more detail to be returned:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span><span class='lparen'>(</span><span class='label'>detailed:</span> <span class='kw'>true</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_16u1uufyoig8777y6r8iqjtrw8sg8maqrm36zzcm95jmbd9i9aj5i8abr8u5</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>balance:</span> <span class='float'>11.439597000000001</span><span class='comma'>,</span>
  <span class='label'>block_count:</span> <span class='int'>4</span><span class='comma'>,</span>
  <span class='label'>frontier:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2C3C570EA8898443C0FD04A1C385A3E3A8C985AD792635FCDCEBB30ADF6A0570</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>modified_timestamp:</span> <span class='int'>1520500357</span><span class='comma'>,</span>
  <span class='label'>open_block:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C82376314C387080A753871A32AD70F4168080C317C5E67356F0A62EB5F34FF9</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>pending:</span> <span class='int'>0</span><span class='comma'>,</span>
  <span class='label'>public_key:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A82C906460046D230D7D37C6663723DC3EFCECC4B3254EBF45294B66746F4FEF</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>representative:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_3pczxuorp48td8645bs3m6c3xotxd3idskrenmi65rbrga5zmkemzhwkaznh</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>representative_block:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C82376314C387080A753871A32AD70F4168080C317C5E67356F0A62EB5F34FF9</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>weight:</span> <span class='int'>0</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>detailed</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(default is false). When <code>true</code>, four additional calls are made to the RPC to return more information</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://nano.org/en/faq#what-are-nano-units" target="_parent" title="- What are Nano&amp;#39;s Units">- What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{Symbol=&gt;String|Integer|Float}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>information about the account containing:</p>
<dl class="rdoc-list label-list"><dt><code>id</code>
<dd>
<p>The account id</p>
</dd><dt><code>frontier</code>
<dd>
<p>The latest block hash</p>
</dd><dt><code>open_block</code>
<dd>
<p>The first block in every account&#39;s blockchain. When this block was published the account was officially open</p>
</dd><dt><code>representative_block</code>
<dd>
<p>The block that named the representative for the account</p>
</dd><dt><code>balance</code>
<dd>
<p>Amount in either NANO or raw (depending on the <code>unit:</code> argument)</p>
</dd><dt><code>last_modified</code>
<dd>
<p>Unix timestamp</p>
</dd><dt><code>block_count</code>
<dd>
<p>Number of blocks in the account&#39;s blockchain</p>
</dd></dl>

<p>When <code>detailed: true</code> is passed as an argument, this method makes four additional calls to the RPC to return more information about an account:</p>
<dl class="rdoc-list label-list"><dt><code>weight</code>
<dd>
<p>See <span class='object_link'><a href="#weight-instance_method" title="Nanook::WalletAccount#weight (method)">#weight</a></span></p>
</dd><dt><code>pending</code>
<dd>
<p>See <span class='object_link'><a href="#balance-instance_method" title="Nanook::WalletAccount#balance (method)">#balance</a></span></p>
</dd><dt><code>representative</code>
<dd>
<p>See <span class='object_link'><a href="#representative-instance_method" title="Nanook::WalletAccount#representative (method)">#representative</a></span></p>
</dd><dt><code>public_key</code>
<dd>
<p>See <span class='object_link'><a href="#public_key-instance_method" title="Nanook::WalletAccount#public_key (method)">#public_key</a></span></p>
</dd></dl>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    #<strong>inspect</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 107</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>(wallet_id: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@wallet</span><span class='embexpr_end'>}</span><span class='tstring_content'>, account_id: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>, object_id: \&quot;</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0x00%x</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lparen'>(</span><span class='id identifier rubyid_object_id'>object_id</span> <span class='op'>&lt;&lt;</span> <span class='int'>1</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;)</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="last_modified_at-instance_method">
  
    #<strong>last_modified_at</strong>  &#x21d2; <tt>Time</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The last modified time of the account in the time zone of your nano node (usually UTC).</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_last_modified_at'>last_modified_at</span> <span class='comment'># =&gt; Time
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Time</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>last modified time of the account in the time zone of your nano node (usually UTC).</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ledger-instance_method">
  
    #<strong>ledger</strong>(limit: 1, modified_since: nil, unit: Nanook.default_unit)  &#x21d2; <tt>Hash{Symbol=&gt;String|Integer}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information about the given account as well as other accounts up the ledger. The number of accounts returned is determined by the <code>limit:</code> argument.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_ledger'>ledger</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>2</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"> {
  :nano_3c3ek3k8135f6e8qtfy8eruk9q3yzmpebes7btzncccdest8ymzhjmnr196j=&gt;{
    :frontier=&gt;&quot;2C3C570EA8898443C0FD04A1C385A3E3A8C985AD792635FCDCEBB30ADF6A0570&quot;,
    :open_block=&gt;&quot;C82376314C387080A753871A32AD70F4168080C317C5E67356F0A62EB5F34FF9&quot;,
    :representative_block=&gt;&quot;C82376314C387080A753871A32AD70F4168080C317C5E67356F0A62EB5F34FF9&quot;,
    :balance=&gt;11439597000000000000000000000000,
    :modified_timestamp=&gt;1520500357,
    :block_count=&gt;4
  },
  :nano_3c3ettq59kijuuad5fnaq35itc9schtr4r7r6rjhmwjbairowzq3wi5ap7h8=&gt;{ ... }
}
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>number of accounts to return in the ledger (default is 1)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>modified_since</span>
      
      
        <span class='type'>(<tt>Time</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>return only accounts modified in the local database after this time</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://nano.org/en/faq#what-are-nano-units" target="_parent" title="- What are Nano&amp;#39;s Units">- What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{Symbol=&gt;String|Integer}</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pay-instance_method">
  
    #<strong>pay</strong>(to:, amount:, unit: Nanook::default_unit, id:)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Makes a payment from this account to another account on the nano network. Returns a <em>send</em> block hash if successful, or a <span class='object_link'><a href="Error.html" title="Nanook::Error (class)">Error</a></span> if unsuccessful.</p>

<p>Note, there may be a delay in receiving a response due to Proof of Work being done. From the <a href="https://docs.nano.org/commands/rpc-protocol/#send">Nano RPC</a>:</p>

<p><em>Proof of Work is precomputed for one transaction in the background. If it has been a while since your last transaction it will send instantly, the next one will need to wait for Proof of Work to be generated.</em></p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_pay'>pay</span><span class='lparen'>(</span><span class='label'>to:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>amount:</span> <span class='float'>1.1</span><span class='comma'>,</span> <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>myUniqueId123</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;9AE2311...&quot;
</span><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_pay'>pay</span><span class='lparen'>(</span><span class='label'>to:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>amount:</span> <span class='int'>54000000000000</span><span class='comma'>,</span> <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>myUniqueId123</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>unit:</span> <span class='symbol'>:raw</span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;9AE2311...&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>to</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>account id of the recipient of your payment</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>amount</span>
      
      
        <span class='type'>(<tt>Integer|Float</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>must be unique per payment. It serves an important purpose; it allows you to make the same call multiple times with the same <code>id</code> and be reassured that you will only ever send this nano payment once</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook::default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://nano.org/en/faq#what-are-nano-units" target="_parent" title="- What are Nano&amp;#39;s Units">- What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the send block id for the payment</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Error.html" title="Nanook::Error (class)">Nanook::Error</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if unsuccessful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 134</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pay'>pay</span><span class='lparen'>(</span><span class='label'>to:</span><span class='comma'>,</span> <span class='label'>amount:</span><span class='comma'>,</span> <span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='comma'>,</span> <span class='label'>id:</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unsupported unit: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unit'>unit</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check that to account is a valid address
</span>  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='ivar'>@rpc</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='symbol'>:validate_account_number</span><span class='comma'>,</span> <span class='label'>account:</span> <span class='id identifier rubyid_to'>to</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:valid</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Account address is invalid: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_to'>to</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Determin amount in raw
</span>  <span class='id identifier rubyid_raw'>raw</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='period'>.</span><span class='id identifier rubyid_eql?'>eql?</span><span class='lparen'>(</span><span class='symbol'>:nano</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Util.html" title="Nanook::Util (class)">Util</a></span></span><span class='period'>.</span><span class='const'>NANO_to_raw</span><span class='lparen'>(</span><span class='id identifier rubyid_amount'>amount</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_amount'>amount</span>
  <span class='kw'>end</span>

  <span class='comment'># account is called source, so don&#39;t use the normal rpc method
</span>  <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>wallet:</span> <span class='ivar'>@wallet</span><span class='comma'>,</span>
    <span class='label'>source:</span> <span class='ivar'>@account</span><span class='comma'>,</span>
    <span class='label'>destination:</span> <span class='id identifier rubyid_to'>to</span><span class='comma'>,</span>
    <span class='label'>amount:</span> <span class='id identifier rubyid_raw'>raw</span><span class='comma'>,</span>
    <span class='label'>id:</span> <span class='id identifier rubyid_id'>id</span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='ivar'>@rpc</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='symbol'>:send</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:error</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Error.html" title="Nanook::Error (class)">Error</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Nanook.html#initialize-instance_method" title="Nanook#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:error</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:block</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pending-instance_method">
  
    #<strong>pending</strong>(limit: 1000, detailed: false, unit: Nanook.default_unit)  &#x21d2; <tt>Array&lt;String&gt;</tt>, <tt>Array&lt;Hash{Symbol=&gt;String|Integer}&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information about pending blocks (payments) that are waiting to be received by the account.</p>

<p>See also the <span class='object_link'><a href="#receive-instance_method" title="Nanook::WalletAccount#receive (method)">#receive</a></span> method for how to receive a pending payment.</p>

<p>The default response is an Array of block ids.</p>

<p>With the <code>detailed:</code> argument, the method returns an Array of Hashes, which contain the source account id, amount pending and block id.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_pending'>pending</span> <span class='comment'># =&gt; [&quot;000D1BA...&quot;]
</span></code></pre>

<p>Asking for more detail to be returned:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_pending'>pending</span><span class='lparen'>(</span><span class='label'>detailed:</span> <span class='kw'>true</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby">[
  {
    block: &quot;000D1BAEC8EC208142C99059B393051BAC8380F9B5A2E6B2489A277D81789F3F&quot;,
    amount: 6,
    source: &quot;nano_3dcfozsmekr1tr9skf1oa5wbgmxt81qepfdnt7zicq5x3hk65fg4fqj58mbr&quot;
  },
  { ... }
]
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1000</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>number of pending blocks to return (default is 1000)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>detailed</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>return a more complex Hash of pending block information (default is <code>false</code>)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://nano.org/en/faq#what-are-nano-units" target="_parent" title="- What are Nano&amp;#39;s Units">- What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash{Symbol=&gt;String|Integer}&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="public_key-instance_method">
  
    #<strong>public_key</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The public key of the account.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_public_key'>public_key</span> <span class='comment'># =&gt; &quot;3068BB1...&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>public key of the account</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="receive-instance_method">
  
    #<strong>receive</strong>(block = nil)  &#x21d2; <tt>String</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Receives a pending payment for this account.</p>

<p>When called with no <code>block</code> argument, the latest pending payment for the account will be received.</p>

<p>Returns a <em>receive</em> block id if a receive was successful, or <code>false</code> if there were no pending payments to receive.</p>

<p>You can receive a specific pending block if you know it by passing the block in as an argument.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_receive'>receive</span>               <span class='comment'># =&gt; &quot;9AE2311...&quot;
</span><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_receive'>receive</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>718CC21...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;9AE2311...&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>block</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>optional block id of pending payment. If not provided, the latest pending payment will be received</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the receive block id</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if there was no block to receive</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


191
192
193
194
195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 191</span>

<span class='kw'>def</span> <span class='id identifier rubyid_receive'>receive</span><span class='lparen'>(</span><span class='id identifier rubyid_block'>block</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid__receive_without_block'>_receive_without_block</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid__receive_with_block'>_receive_with_block</span><span class='lparen'>(</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="representative-instance_method">
  
    #<strong>representative</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The representative account id for the account. Representatives are accounts that cast votes in the case of a fork in the network.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_representative'>representative</span> <span class='comment'># =&gt; &quot;nano_3pc...&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Representative account of the account</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="weight-instance_method">
  
    #<strong>weight</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The account&#39;s weight.</p>

<p>Weight is determined by the account&#39;s balance, and represents the voting weight that account has on the network. Only accounts with greater than 256 weight can vote.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_weight'>weight</span> <span class='comment'># =&gt; 0
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the account&#39;s weight</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/wallet_account.rb', line 45</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:@nanook_account_instance</span><span class='comma'>,</span> <span class='symbol'>:balance</span><span class='comma'>,</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='symbol'>:exists?</span><span class='comma'>,</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:info</span><span class='comma'>,</span> <span class='symbol'>:last_modified_at</span><span class='comma'>,</span> <span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='symbol'>:pending</span><span class='comma'>,</span> <span class='symbol'>:public_key</span><span class='comma'>,</span> <span class='symbol'>:representative</span><span class='comma'>,</span> <span class='symbol'>:weight</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Apr  3 09:25:53 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.0).
</div>

    </div>
  </body>
</html>