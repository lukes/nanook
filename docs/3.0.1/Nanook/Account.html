<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Nanook::Account
  
    &mdash; Nanook 3.0.1 Documentation
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Nanook::Account";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span>
     &raquo; 
    <span class="title">Account</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Nanook::Account
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Nanook::Account</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Util.html" title="Nanook::Util (module)">Util</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/nanook/account.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The <code>Nanook::Account</code> class contains methods to discover publicly-available information about accounts on the nano network.</p>

<h3 id="label-Initializing">Initializing</h3>

<p>Initialize this class through the convenient <span class='object_link'><a href="../Nanook.html#account-instance_method" title="Nanook#account (method)">#account</a></span> method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_nanook'>nanook</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Nanook.html#initialize-instance_method" title="Nanook#initialize (method)">new</a></span></span>
<span class='id identifier rubyid_account'>account</span> <span class='op'>=</span> <span class='id identifier rubyid_nanook'>nanook</span><span class='period'>.</span><span class='id identifier rubyid_account'>account</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
</code></pre>

<p>Or compose the longhand way like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rpc_conn'>rpc_conn</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Rpc.html" title="Nanook::Rpc (class)">Rpc</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Rpc.html#initialize-instance_method" title="Nanook::Rpc#initialize (method)">new</a></span></span>
<span class='id identifier rubyid_account'>account</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'>Account</span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Nanook::Account#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rpc_conn'>rpc_conn</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>


  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Util.html" title="Nanook::Util (module)">Util</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Util.html#STEP-constant" title="Nanook::Util::STEP (constant)">Util::STEP</a></span></p>





  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  &#x21d2; Boolean </a>
    

    
      (also: #eql?)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>True if accounts are equal.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#balance-instance_method" title="#balance (instance method)">#<strong>balance</strong>(unit: Nanook.default_unit)  &#x21d2; Hash{Symbol=&gt;Integer|Float} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The account&#39;s balance, including pending (unreceived payments).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#block_count-instance_method" title="#block_count (instance method)">#<strong>block_count</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Number of blocks for this account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#blocks-instance_method" title="#blocks (instance method)">#<strong>blocks</strong>(limit: 1000, sort: :asc)  &#x21d2; Array&lt;Nanook::Block&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return blocks for the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delegators-instance_method" title="#delegators (instance method)">#<strong>delegators</strong>(unit: Nanook.default_unit)  &#x21d2; Hash{Nanook::Account=&gt;Integer|Float} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information about this accounts that have set this account as their representative.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delegators_count-instance_method" title="#delegators_count (instance method)">#<strong>delegators_count</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Number of accounts that have set this account as their representative.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exists%3F-instance_method" title="#exists? (instance method)">#<strong>exists?</strong>  &#x21d2; Boolean </a>
    

    
      (also: #open?)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if the account has an <em>open</em> block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The hash value is used along with #eql? by the Hash class to determine if two objects reference the same hash key.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#history-instance_method" title="#history (instance method)">#<strong>history</strong>(limit: 1000, unit: Nanook.default_unit, sort: :asc)  &#x21d2; Array&lt;Hash{Symbol=&gt;String|Float|Integer|Nanook::Account|NanookBlock}&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An account&#39;s history of send and receive payments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">#<strong>id</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The id of the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#info-instance_method" title="#info (instance method)">#<strong>info</strong>(unit: Nanook.default_unit)  &#x21d2; Hash{Symbol=&gt;String|Integer|Float|Nanook::Account|Nanook::Block|Time} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information about the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(rpc, account)  &#x21d2; Account </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_modified_at-instance_method" title="#last_modified_at (instance method)">#<strong>last_modified_at</strong>  &#x21d2; Time </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The last modified time of the account in UTC.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ledger-instance_method" title="#ledger (instance method)">#<strong>ledger</strong>(limit: 1000, modified_since: 0, unit: Nanook.default_unit, sort: :asc)  &#x21d2; Hash{Nanook::Account=&gt;String|Integer} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information about the given account as well as other accounts up the ledger.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open_block-instance_method" title="#open_block (instance method)">#<strong>open_block</strong>  &#x21d2; Nanook::Block </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the open block for the account if it exists on the node.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pending-instance_method" title="#pending (instance method)">#<strong>pending</strong>(limit: 1000, detailed: false, unit: Nanook.default_unit)  &#x21d2; Array&lt;Nanook::Block&gt;, Array&lt;Hash{Symbol=&gt;Nanook::Block|Nanook::Account|Integer}&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Information about pending blocks (payments) that are waiting to be received by the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#public_key-instance_method" title="#public_key (instance method)">#<strong>public_key</strong>  &#x21d2; Nanook::PublicKey </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The public key of the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#representative-instance_method" title="#representative (instance method)">#<strong>representative</strong>  &#x21d2; Nanook::Account </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The representative for the account.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
    

    
      (also: #inspect)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#weight-instance_method" title="#weight (instance method)">#<strong>weight</strong>(unit: Nanook.default_unit)  &#x21d2; Integer|Float </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The account&#39;s weight.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(rpc, account)  &#x21d2; <tt><span class='object_link'><a href="" title="Nanook::Account (class)">Account</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Account.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 23</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_rpc'>rpc</span><span class='comma'>,</span> <span class='id identifier rubyid_account'>account</span><span class='rparen'>)</span>
  <span class='ivar'>@rpc</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span>
  <span class='ivar'>@account</span> <span class='op'>=</span> <span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="==-instance_method">
  
    #<strong>==</strong>(other)  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='eql?-instance_method'>eql?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if accounts are equal.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>other</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>account to compare</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if accounts are equal</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 41</span>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>&amp;&amp;</span>
    <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>==</span> <span class='id identifier rubyid_id'>id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="balance-instance_method">
  
    #<strong>balance</strong>(unit: Nanook.default_unit)  &#x21d2; <tt>Hash{Symbol=&gt;Integer|Float}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The account&#39;s balance, including pending (unreceived payments). To receive a pending amount see <span class='object_link'><a href="WalletAccount.html#receive-instance_method" title="Nanook::WalletAccount#receive (method)">WalletAccount#receive</a></span>.</p>

<p>This call returns information that may be based on unconfirmed blocks. These details should not be relied on for any process or integration that requires confirmed blocks. The pending balance is calculated from potentially unconfirmed blocks.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_balance'>balance</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='label'>balance:</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='label'>pending:</span> <span class='float'>1.1</span>
<span class='rbrace'>}</span>
</code></pre>

<p>Asking for the balance to be returned in raw instead of NANO:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_balance'>balance</span><span class='lparen'>(</span><span class='label'>unit:</span> <span class='symbol'>:raw</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='label'>balance:</span> <span class='int'>2000000000000000000000000000000</span><span class='comma'>,</span>
  <span class='label'>pending:</span> <span class='int'>1100000000000000000000000000000</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{Symbol=&gt;Integer|Float}</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


253
254
255
256
257
258
259
260
261
262</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 253</span>

<span class='kw'>def</span> <span class='id identifier rubyid_balance'>balance</span><span class='lparen'>(</span><span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_balance</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>
      <span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='symbol'>:pending</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='symbol'>:pending</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="block_count-instance_method">
  
    #<strong>block_count</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns number of blocks for this account.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>number of blocks for this account</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


265
266
267</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 265</span>

<span class='kw'>def</span> <span class='id identifier rubyid_block_count'>block_count</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_block_count</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:block_count</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="blocks-instance_method">
  
    #<strong>blocks</strong>(limit: 1000, sort: :asc)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return blocks for the account.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1000</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>maximum number of history items to return. Defaults to 1000</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sort</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:asc</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default <code>:asc</code>. When set to <code>:desc</code> the blocks will be returned oldest to newest.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 169</span>

<span class='kw'>def</span> <span class='id identifier rubyid_blocks'>blocks</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>1000</span><span class='comma'>,</span> <span class='label'>sort:</span> <span class='symbol'>:asc</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_history'>history</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='id identifier rubyid_limit'>limit</span><span class='comma'>,</span> <span class='label'>sort:</span> <span class='id identifier rubyid_sort'>sort</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='lbracket'>[</span><span class='symbol'>:block</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delegators-instance_method">
  
    #<strong>delegators</strong>(unit: Nanook.default_unit)  &#x21d2; <tt>Hash{<span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span>=&gt;Integer|Float}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information about this accounts that have set this account as their representative.</p>

<h3 id="label-Example-3A">Example:</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_delegators'>delegators</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Nanook::Account (class)">Account</a></span></span><span class='op'>=&gt;</span><span class='float'>50.0</span><span class='comma'>,</span>
  <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Nanook::Account (class)">Account</a></span></span><span class='op'>=&gt;</span><span class='float'>961.64</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{<span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span>=&gt;Integer|Float}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span> accounts which delegate to this account, and their account balance</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73
74
75
76
77
78
79
80
81
82
83</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delegators'>delegators</span><span class='lparen'>(</span><span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:delegators</span><span class='comma'>,</span> <span class='label'>_coerce:</span> <span class='const'>Hash</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_account_id'>account_id</span><span class='comma'>,</span> <span class='id identifier rubyid_balance'>balance</span><span class='op'>|</span>
    <span class='id identifier rubyid_balance'>balance</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_balance'>balance</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>

    <span class='lbracket'>[</span><span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_account_id'>account_id</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_balance'>balance</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='const'>Hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_r'>r</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delegators_count-instance_method">
  
    #<strong>delegators_count</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Number of accounts that have set this account as their representative.</p>

<h3 id="label-Example-3A">Example:</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_delegators_count'>delegators_count</span> <span class='comment'># =&gt; 2
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


92
93
94</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 92</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delegators_count'>delegators_count</span>
  <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:delegators_count</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:count</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exists?-instance_method">
  
    #<strong>exists?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='open?-instance_method'>open?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if the account has an <em>open</em> block.</p>

<p>An open block gets published when an account receives a payment for the first time.</p>

<p>The reliability of this check depends on the node host having synchronized itself with most of the blocks on the nano network, otherwise you may get <code>false</code> when the account does exist. You can check if a node&#39;s  synchronization is particular low using <span class='object_link'><a href="Node.html#sync_progress-instance_method" title="Nanook::Node#sync_progress (method)">Node#sync_progress</a></span>.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_exists?'>exists?</span> <span class='comment'># =&gt; true
</span><span class='comment'># or
</span><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_open?'>open?</span>   <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Indicates if this account has an open block</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116
117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exists?'>exists?</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_info</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Nanook.html#Error-constant" title="Nanook::Error (constant)">Error</a></span></span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='op'>!</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:open_block</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hash-instance_method">
  
    #<strong>hash</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The hash value is used along with #eql? by the Hash class to determine if two objects reference the same hash key.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 51</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hash'>hash</span>
  <span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_hash'>hash</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="history-instance_method">
  
    #<strong>history</strong>(limit: 1000, unit: Nanook.default_unit, sort: :asc)  &#x21d2; <tt>Array&lt;Hash{Symbol=&gt;String|Float|Integer|<span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span>|NanookBlock}&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An account&#39;s history of send and receive payments.</p>

<p>This call may return results that include unconfirmed blocks, so it should not be used in any processes or integrations requiring only details from blocks confirmed by the network.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_history'>history</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span>
  <span class='lbrace'>{</span>
   <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>send</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
   <span class='label'>account:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Nanook::Account (class)">Account</a></span></span><span class='comma'>,</span>
   <span class='label'>amount:</span> <span class='int'>2</span><span class='comma'>,</span>
   <span class='label'>block:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span></span>
  <span class='rbrace'>}</span>
<span class='rbracket'>]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1000</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>maximum number of history items to return. Defaults to 1000</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sort</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:asc</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default <code>:asc</code>. When set to <code>:desc</code> the history will be returned oldest to newest.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash{Symbol=&gt;String|Float|Integer|<span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span>|NanookBlock}&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the history of send and receive payments for this account</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155
156
157
158
159
160
161
162</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 150</span>

<span class='kw'>def</span> <span class='id identifier rubyid_history'>history</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>1000</span><span class='comma'>,</span> <span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='comma'>,</span> <span class='label'>sort:</span> <span class='symbol'>:asc</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_history</span><span class='comma'>,</span> <span class='label'>count:</span> <span class='id identifier rubyid_limit'>limit</span><span class='comma'>,</span> <span class='label'>reverse:</span> <span class='lparen'>(</span><span class='id identifier rubyid_sort'>sort</span> <span class='op'>==</span> <span class='symbol'>:desc</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:history</span><span class='comma'>,</span> <span class='label'>_coerce:</span> <span class='const'>Array</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_history'>history</span><span class='op'>|</span>
    <span class='id identifier rubyid_history'>history</span><span class='lbracket'>[</span><span class='symbol'>:amount</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_history'>history</span><span class='lbracket'>[</span><span class='symbol'>:amount</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>
    <span class='id identifier rubyid_history'>history</span><span class='lbracket'>[</span><span class='symbol'>:account</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_history'>history</span><span class='lbracket'>[</span><span class='symbol'>:account</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_history'>history</span><span class='lbracket'>[</span><span class='symbol'>:block</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_history'>history</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:hash</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># Rename the key from `hash` to `block`
</span>
    <span class='id identifier rubyid_history'>history</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="id-instance_method">
  
    #<strong>id</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The id of the account.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='comment'># =&gt; &quot;nano_16u...&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the id of the account</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_id'>id</span>
  <span class='ivar'>@account</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="info-instance_method">
  
    #<strong>info</strong>(unit: Nanook.default_unit)  &#x21d2; <tt>Hash{Symbol=&gt;String|Integer|Float|<span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span>|<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>|Time}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information about the account.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_16u1uufyoig8777y6r8iqjtrw8sg8maqrm36zzcm95jmbd9i9aj5i8abr8u5</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>balance:</span> <span class='float'>11.439597000000001</span><span class='comma'>,</span>
  <span class='label'>block_count:</span> <span class='int'>4</span><span class='comma'>,</span>
  <span class='label'>frontier:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2C3C570EA8898443C0FD04A1C385A3E3A8C985AD792635FCDCEBB30ADF6A0570</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>modified_timestamp:</span> <span class='int'>1520500357</span><span class='comma'>,</span>
  <span class='label'>open_block:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C82376314C387080A753871A32AD70F4168080C317C5E67356F0A62EB5F34FF9</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>representative_block:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C82376314C387080A753871A32AD70F4168080C317C5E67356F0A62EB5F34FF9</span><span class='tstring_end'>&quot;</span></span>
<span class='rbrace'>}</span>
</code></pre>

<p>Asking for more detail to be returned:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span><span class='lparen'>(</span><span class='label'>detailed:</span> <span class='kw'>true</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
  <span class='label'>id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nano_16u1uufyoig8777y6r8iqjtrw8sg8maqrm36zzcm95jmbd9i9aj5i8abr8u5</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>balance:</span> <span class='float'>11.439597000000001</span><span class='comma'>,</span>
  <span class='label'>block_count:</span> <span class='int'>4</span><span class='comma'>,</span>
  <span class='label'>frontier:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span></span><span class='comma'>,</span>
  <span class='label'>last_modified_at:</span> <span class='const'>Time</span><span class='comma'>,</span>
  <span class='label'>open_block:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span></span><span class='comma'>,</span>
  <span class='label'>pending:</span> <span class='float'>1.0</span><span class='comma'>,</span>
  <span class='label'>representative:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Nanook::Account (class)">Account</a></span></span><span class='comma'>,</span>
  <span class='label'>representative_block:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span></span><span class='comma'>,</span>
  <span class='label'>weight:</span> <span class='float'>0.1</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{Symbol=&gt;String|Integer|Float|<span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span>|<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>|Time}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>information about the account containing:</p>
<dl class="rdoc-list label-list"><dt><code>id</code>
<dd>
<p>The account id</p>
</dd><dt><code>frontier</code>
<dd>
<p>The latest <span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span></p>
</dd><dt><code>confirmation_height</code>
<dd>
<p>Confirmation height</p>
</dd><dt><code>confirmation_height_frontier</code>
<dd>
<p>The <span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span> of the confirmation height</p>
</dd><dt><code>pending</code>
<dd>
<p>Pending balance in either NANO or raw (depending on the <code>unit:</code> argument)</p>
</dd><dt><code>open_block</code>
<dd>
<p>The first <span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span> in every account&#39;s blockchain. When this block was published the account was officially open</p>
</dd><dt><code>representative_block</code>
<dd>
<p>The <span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Block</a></span> that named the representative for the account</p>
</dd><dt><code>balance</code>
<dd>
<p>Balance in either NANO or raw (depending on the <code>unit:</code> argument)</p>
</dd><dt><code>last_modified_at</code>
<dd>
<p>Time of when the account was last modified in UTC</p>
</dd><dt><code>representative</code>
<dd>
<p>Representative <span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span></p>
</dd><dt><code>block_count</code>
<dd>
<p>Number of blocks in the account&#39;s blockchain</p>
</dd><dt><code>weight</code>
<dd>
<p>See <span class='object_link'><a href="#weight-instance_method" title="Nanook::Account#weight (method)">#weight</a></span></p>
</dd></dl>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 322</span>

<span class='kw'>def</span> <span class='id identifier rubyid_info'>info</span><span class='lparen'>(</span><span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_info</span><span class='comma'>,</span> <span class='label'>representative:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>weight:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>pending:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='ivar'>@account</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:frontier</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:frontier</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:frontier</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:open_block</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:open_block</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:open_block</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:representative_block</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:representative_block</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:representative_block</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:representative</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:representative</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:representative</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:confirmation_height_frontier</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:confirmation_height_frontier</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:confirmation_height_frontier</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:last_modified_at</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_time'>as_time</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:modified_timestamp</span><span class='rparen'>)</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>
    <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span>
      <span class='label'>balance:</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='label'>pending:</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:pending</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='label'>weight:</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:weight</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_response'>response</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="last_modified_at-instance_method">
  
    #<strong>last_modified_at</strong>  &#x21d2; <tt>Time</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The last modified time of the account in UTC. For many accounts on the node this will be the timestamp of when the node bootstrapped.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_last_modified_at'>last_modified_at</span> <span class='comment'># =&gt; Time
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Time</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>last modified time of the account in UTC. Can be nil</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


188
189
190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 188</span>

<span class='kw'>def</span> <span class='id identifier rubyid_last_modified_at'>last_modified_at</span>
  <span class='id identifier rubyid_as_time'>as_time</span><span class='lparen'>(</span><span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_info</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:modified_timestamp</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ledger-instance_method">
  
    #<strong>ledger</strong>(limit: 1000, modified_since: 0, unit: Nanook.default_unit, sort: :asc)  &#x21d2; <tt>Hash{<span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span>=&gt;String|Integer}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information about the given account as well as other accounts up the ledger. The number of accounts returned is determined by the <code>limit:</code> argument.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_ledger'>ledger</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>2</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby"> {
  Nanook::Account =&gt; {
    :frontier =&gt; Nanook::Block,
    :open_block =&gt; Nanook::Block,
    :representative_block =&gt; Nanook::Block,
    :representative =&gt; Nanook::Account,
    :balance =&gt; 1143.7,
    :last_modified_at =&gt; Time,
    :block_count =&gt; 4
    :weight =&gt; 5
    :pending =&gt; 2.0
  },
  Nanook::Account =&gt; { ... }
}
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1000</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>number of accounts to return in the ledger (default is 1000)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>modified_since</span>
      
      
        <span class='type'>(<tt>Time</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>0</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>optional. Return only accounts modified in the local database after this time (default is from the unix epoch)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sort</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:asc</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default <code>:asc</code>. When set to <code>:desc</code> the ledger will be returned oldest to newest.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{<span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span>=&gt;String|Integer}</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 384</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ledger'>ledger</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>1000</span><span class='comma'>,</span> <span class='label'>modified_since:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='comma'>,</span> <span class='label'>sort:</span> <span class='symbol'>:asc</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>count:</span> <span class='id identifier rubyid_limit'>limit</span><span class='comma'>,</span>
    <span class='label'>sorting:</span> <span class='lparen'>(</span><span class='id identifier rubyid_sort'>sort</span> <span class='op'>==</span> <span class='symbol'>:desc</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='label'>modified_since:</span> <span class='id identifier rubyid_modified_since'>modified_since</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span>
    <span class='label'>_access:</span> <span class='symbol'>:accounts</span><span class='comma'>,</span>
    <span class='label'>_coerce:</span> <span class='const'>Hash</span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:ledger</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_account_id'>account_id</span><span class='comma'>,</span> <span class='id identifier rubyid_ledger'>ledger</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>
      <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:balance</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:pending</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:pending</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:weight</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:weight</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:last_modified_at</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_time'>as_time</span><span class='lparen'>(</span><span class='id identifier rubyid_ledger'>ledger</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:modified_timestamp</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:representative</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:representative</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:representative</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:representative_block</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:representative_block</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:representative_block</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:open_block</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:open_block</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:open_block</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:frontier</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:frontier</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_ledger'>ledger</span><span class='lbracket'>[</span><span class='symbol'>:frontier</span><span class='rbracket'>]</span>

    <span class='lbracket'>[</span><span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_account_id'>account_id</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_ledger'>ledger</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='const'>Hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_r'>r</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="open_block-instance_method">
  
    #<strong>open_block</strong>  &#x21d2; <tt><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the open block for the account if it exists on the node.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 176</span>

<span class='kw'>def</span> <span class='id identifier rubyid_open_block'>open_block</span>
  <span class='id identifier rubyid_blocks'>blocks</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>sort:</span> <span class='symbol'>:desc</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pending-instance_method">
  
    #<strong>pending</strong>(limit: 1000, detailed: false, unit: Nanook.default_unit)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>&gt;</tt>, <tt>Array&lt;Hash{Symbol=&gt;<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>|<span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span>|Integer}&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Information about pending blocks (payments) that are waiting to be received by the account.</p>

<p>See also the <span class='object_link'><a href="WalletAccount.html#receive-instance_method" title="Nanook::WalletAccount#receive (method)">WalletAccount#receive</a></span> method for how to receive a pending payment.</p>

<p>The default response is an Array of block ids.</p>

<p>With the <code>detailed:</code> argument, the method returns an Array of Hashes, which contain the source account id, amount pending and block id.</p>

<h4 id="label-Examples-3A">Examples:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_pending'>pending</span> <span class='comment'># =&gt; [Nanook::Block, ...&quot;]
</span></code></pre>

<p>Asking for more detail to be returned:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_pending'>pending</span><span class='lparen'>(</span><span class='label'>detailed:</span> <span class='kw'>true</span><span class='rparen'>)</span>
</code></pre>

<p>Example response:</p>

<pre class="code ruby"><code class="ruby">[
  {
    block: Nanook::Block,
    amount: 6,
    source: Nanook::Account
  },
  { ... }
]
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>limit</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1000</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>number of pending blocks to return (default is 1000)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>detailed</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>return a more complex Hash of pending block information (default is <code>false</code>)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Nanook.default_unit</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default is <span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">Nanook.default_unit</a></span>. Must be one of <span class='object_link'><a href="../Nanook.html#UNITS-constant" title="Nanook::UNITS (constant)">UNITS</a></span>. Represents the unit that the balances will be returned in. Note: this method interprets <code>:nano</code> as NANO, which is technically Mnano. See <a href="https://docs.nano.org/protocol-design/distribution-and-units/#unit-dividers" target="_parent" title="What are Nano&amp;#39;s Units">What are Nano&#39;s Units</a></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash{Symbol=&gt;<span class='object_link'><a href="Block.html" title="Nanook::Block (class)">Nanook::Block</a></span>|<span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span>|Integer}&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 453</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pending'>pending</span><span class='lparen'>(</span><span class='label'>limit:</span> <span class='int'>1000</span><span class='comma'>,</span> <span class='label'>detailed:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>count:</span> <span class='id identifier rubyid_limit'>limit</span><span class='comma'>,</span>
    <span class='label'>_access:</span> <span class='symbol'>:blocks</span><span class='comma'>,</span>
    <span class='label'>_coerce:</span> <span class='lparen'>(</span><span class='id identifier rubyid_detailed'>detailed</span> <span class='op'>?</span> <span class='const'>Hash</span> <span class='op'>:</span> <span class='const'>Array</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:source</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_detailed'>detailed</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:pending</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_detailed'>detailed</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_block'>block</span><span class='op'>|</span>
      <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
    <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span>
      <span class='label'>block:</span> <span class='id identifier rubyid_as_block'>as_block</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='label'>source:</span> <span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='lbracket'>[</span><span class='symbol'>:source</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='rparen'>)</span>

    <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:amount</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:amount</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>
    <span class='id identifier rubyid_p'>p</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="public_key-instance_method">
  
    #<strong>public_key</strong>  &#x21d2; <tt><span class='object_link'><a href="PublicKey.html" title="Nanook::PublicKey (class)">Nanook::PublicKey</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The public key of the account.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_public_key'>public_key</span> <span class='comment'># =&gt; Nanook::PublicKey
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="PublicKey.html" title="Nanook::PublicKey (class)">Nanook::PublicKey</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>public key of the account</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 199</span>

<span class='kw'>def</span> <span class='id identifier rubyid_public_key'>public_key</span>
  <span class='id identifier rubyid_as_public_key'>as_public_key</span><span class='lparen'>(</span><span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_key</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:key</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="representative-instance_method">
  
    #<strong>representative</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The representative for the account.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_representative'>representative</span> <span class='comment'># =&gt; Nanook::Account
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Nanook::Account (class)">Nanook::Account</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Representative of the account. Can be nil.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 210</span>

<span class='kw'>def</span> <span class='id identifier rubyid_representative'>representative</span>
  <span class='id identifier rubyid_representative'>representative</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_representative</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:representative</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_as_account'>as_account</span><span class='lparen'>(</span><span class='id identifier rubyid_representative'>representative</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_representative'>representative</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt>String</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='inspect-instance_method'>inspect</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


348
349
350</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 348</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>(id: \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_short_id'>short_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;)</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="weight-instance_method">
  
    #<strong>weight</strong>(unit: Nanook.default_unit)  &#x21d2; <tt>Integer|Float</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The account&#39;s weight.</p>

<p>Weight is determined by the account&#39;s balance, and represents the voting weight that account has on the network. Only accounts with greater than 0.1% of the online voting weight and are on a node configured to vote can vote.</p>

<h4 id="label-Example-3A">Example:</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_account'>account</span><span class='period'>.</span><span class='id identifier rubyid_weight'>weight</span> <span class='comment'># =&gt; 0
</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer|Float</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the account&#39;s weight</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Nanook.html#NanoUnitError-constant" title="Nanook::NanoUnitError (constant)">Nanook::NanoUnitError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if `unit` is invalid</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


495
496
497
498
499
500
501
502
503</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanook/account.rb', line 495</span>

<span class='kw'>def</span> <span class='id identifier rubyid_weight'>weight</span><span class='lparen'>(</span><span class='label'>unit:</span> <span class='const'><span class='object_link'><a href="../Nanook.html" title="Nanook (class)">Nanook</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_unit'><span class='object_link'><a href="../Nanook.html#default_unit-class_method" title="Nanook.default_unit (method)">default_unit</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_unit!'>validate_unit!</span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_weight'>weight</span> <span class='op'>=</span> <span class='id identifier rubyid_rpc'>rpc</span><span class='lparen'>(</span><span class='symbol'>:account_weight</span><span class='comma'>,</span> <span class='label'>_access:</span> <span class='symbol'>:weight</span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_weight'>weight</span> <span class='kw'>unless</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>==</span> <span class='symbol'>:nano</span>

  <span class='id identifier rubyid_raw_to_NANO'>raw_to_NANO</span><span class='lparen'>(</span><span class='id identifier rubyid_weight'>weight</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Apr 28 18:52:27 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.0).
</div>

    </div>
  </body>
</html>